2) Show the balance only when logged in
A. Wrap the balance UI and hide it by default

In index.html, change the balance block to this:

<!-- Balance card (hidden until logged in) -->
<div id="balWrap" style="display:none">
  <div class="stat muted">IH Balance</div>
  <div class="stat"><strong id="bal">—</strong></div>
  <div class="row" style="margin-top:12px">
    <button class="btn alt" id="refreshBtn">Refresh</button>
    <a class="btn" id="buy500Btn" href="buy-500.html">Buy 500 IH</a>
    <button class="btn bad" id="logoutBtn">Log out</button>
  </div>
  <p class="muted" style="margin-top:10px">
    After paying, click <b>Refresh</b> to update your balance. Checkout includes your
    <code>playerId</code> in <code>metadata</code>.
  </p>
</div>

<!-- Message to show when logged out -->
<p id="loggedOutMsg" class="muted">
  Log in to view your IH balance and purchase credits.
</p>

B. Toggle it in your script

Add/replace these helpers in your <script> of index.html:

function show(el, on){ el.style.display = on ? "" : "none"; }
function reflectLogin(){
  const loggedIn = !!playFabId && !!sessionTicket;
  setText("loginState", loggedIn ? `logged in as ${playFabId}` : "logged out");
  const balWrap = document.getElementById("balWrap");
  const msg = document.getElementById("loggedOutMsg");
  show(balWrap, loggedIn);
  show(msg, !loggedIn);
}

function logout(){
  sessionTicket = "";
  playFabId = "";
  localStorage.removeItem("ih_session");
  localStorage.removeItem("ih_playfab_id");
  setText("bal","—");
  reflectLogin();
  setStatus("Logged out.");
}


And after a successful email login, keep your existing code that sets sessionTicket / playFabId, then call:

reflectLogin();
setStatus("Logged in.","ok");
refreshBalance();


Also call reflectLogin() once at page load (you already do).
